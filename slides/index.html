<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>pydown</title>
	
	<meta name="description" content="A jQuery library for modern HTML presentations">
	<meta name="author" content="Caleb Troughton">
	<meta name="viewport" content="width=1024, user-scalable=no">
	
	<!-- Core and extension CSS files -->
	<link rel="stylesheet" href="css/deck.core.css">
	<link rel="stylesheet" href="css/deck.status.css">
	<link rel="stylesheet" href="css/deck.scale.css">
	
	<!-- Style theme. More available in /themes/style/ or create your own. -->
	<link rel="stylesheet" href="css/web-2.0.css">
	
	<!-- Transition theme. More available in /themes/transition/ or create your own. -->
	<link rel="stylesheet" href="css/horizontal-slide.css">

	<link rel="stylesheet" href="css/md_hl.css">
	
	<script src="js/modernizr.custom.js"></script>
</head>

<body class="deck-container">

<!-- Begin slides -->
<section class="slide "><div class="content"><h1>Python Packaging &amp; Publishing</h1>
<p>How to organize your code into a python package that can be installed with pip and published to pypi or other python repositories.</p>
<h3>Mike Sandford</h3>
<p>mike.sandford@arundo.com</p>
<h4>Arundo Analytics</h4>
<p>http://www.arundo.com</p></div></section>
<section class="slide "><div class="content"><h2>Why package up your python?</h2></div></section>
<section class="slide "><div class="content"><h3>Would you rather?</h3>
<div class="codehilite"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">my</span><span class="o">-</span><span class="n">project</span>
<span class="n">do_something</span>
</pre></div>


<p>or</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="p">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">:</span><span class="n">me</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">project</span><span class="p">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">my</span><span class="o">-</span><span class="n">project</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="p">.</span><span class="n">txt</span>
<span class="n">echo</span> &quot;$<span class="n">PATH</span><span class="p">=</span><span class="o">~/</span><span class="n">my</span><span class="o">-</span><span class="n">project</span><span class="o">/</span><span class="p">:</span>$<span class="n">PATH</span>&quot; <span class="o">&gt;&gt;</span> <span class="o">~/</span><span class="p">.</span><span class="n">bashrc</span>
<span class="n">python</span> <span class="n">do_something</span><span class="p">.</span><span class="n">py</span>
</pre></div></div></section>
<section class="slide "><div class="content"><h3>Dependency management</h3>
<p><code>git submodules</code> vs <code>pip install my-project==0.2.7</code></p></div></section>
<section class="slide "><div class="content"><h3>CLI Tools</h3>
<p>Entry points are a way to make your python program available neatly</p>
<div class="codehilite"><pre><span class="nt">entry_points</span><span class="o">=</span><span class="p">{</span>
          <span class="s1">&#39;console_scripts&#39;</span><span class="o">:</span> <span class="cp">[</span>
              <span class="s1">&#39;my_project = my_project.__main__:main&#39;</span>
          <span class="cp">]</span>
      <span class="p">}</span><span class="o">,</span>
</pre></div></div></section>
<section class="slide "><div class="content"><h3>Distribution!</h3>
<p>What you need to easily distribute your software via:</p>
<ol>
<li>public pypi</li>
<li>private pypi repo (internal to company, say)</li>
<li>just from github</li>
</ol></div></section>
<section class="slide "><div class="content"><h2>Why distribute your code?</h2></div></section>
<section class="slide "><div class="content"><h3>To give back to the awesome python community!</h3>
<p><img alt="batteres included" src="../images/python.png" title="Batteries Included" /></p></div></section>
<section class="slide "><div class="content"><h3>Career building</h3>
<p>It's far easier to get hired with good work in the public eye</p>
<p><img alt="hire me" src="../images/kenneth_reitz.png" title="Kenneth Reitz" />
vs
<img alt="less great" src="../images/mike_sandford.png" title="Mike Sandford" /></p></div></section>
<section class="slide "><div class="content"><h3>You actually want other people to use it</h3>
<div class="codehilite"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">package</span><span class="o">-</span><span class="n">name</span>
</pre></div>


<p>vs</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">:</span><span class="n">someguy</span><span class="o">/</span><span class="n">someproject</span><span class="p">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">someproject</span>
<span class="n">vi</span> <span class="n">README</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="p">.</span><span class="n">txt</span>
<span class="o">//</span> <span class="n">scratches</span> <span class="n">head</span>???
<span class="o">//</span> <span class="n">gives</span> <span class="n">up</span> <span class="o">*</span><span class="n">shrug</span><span class="o">*</span>
</pre></div></div></section>
<section class="slide "><div class="content"><h2>How to create a package</h2>
<ol>
<li>Have some working code</li>
<li>Create a setup.py file</li>
<li>Profit!</li>
</ol></div></section>
<section class="slide "><div class="content"><h3>v0</h3>
<ul>
<li>Just barely works</li>
<li>Where most of us start</li>
</ul></div></section>
<section class="slide "><div class="content"><h3>v1</h3>
<ul>
<li>Better, using argparse rather than sys.argv</li>
<li>Can we do better?</li>
</ul></div></section>
<section class="slide "><div class="content"><h3>v1.1</h3>
<ul>
<li>Uses setup.py so installable</li>
<li>No "package hygiene" -&gt; look in virtualenv</li>
</ul></div></section>
<section class="slide "><div class="content"><h3>v1.2</h3>
<ul>
<li>Installable</li>
<li>Hygienic</li>
<li>Not easy to use from shell</li>
</ul></div></section>
<section class="slide "><div class="content"><h3>v1.3</h3>
<ul>
<li>Installable</li>
<li>Package-hygienic</li>
<li>CLI binary</li>
</ul></div></section>
<section class="slide "><div class="content"><h3>v2.0</h3>
<ul>
<li>Installable</li>
<li>Package-hygienic</li>
<li>CLI binary</li>
<li>Includes dependencies</li>
<li>Easy to read/understand</li>
</ul></div></section>
<section class="slide "><div class="content"><h3>v2.1</h3>
<ul>
<li>Installable</li>
<li>Package-hygienic</li>
<li>CLI binary</li>
<li>Includes dependencies</li>
<li>Easy to read/understand</li>
<li>Documented!</li>
</ul></div></section>
<section class="slide "><div class="content"><h2>How to publish to pypi</h2>
<p>I started with these directions:
http://peterdowns.com/posts/first-time-with-pypi.html</p>
<p>Turns out they're totally wrong now!</p>
<ol>
<li>Register accounts with test and prod</li>
<li>Create a .pypirc file</li>
<li>Publish in test</li>
<li>Publish in prod</li>
</ol></div></section>
<section class="slide "><div class="content"><h3>Register accounts</h3>
<p><img alt="not too hard" src="../images/not_too_hard.png" title="Just go for it" /></p></div></section>
<section class="slide "><div class="content"><h3>Create .pypirc file</h3>
<div class="codehilite"><pre><span class="k">[distutils]</span>
<span class="na">index-servers</span> <span class="o">=</span><span class="s"></span>
<span class="s">  pypi</span>
<span class="s">  testpypi</span>

<span class="k">[pypi]</span>
<span class="na">repositoy</span><span class="o">=</span><span class="s">https://pypi.python.org/pypi</span>
<span class="na">username</span><span class="o">=</span><span class="s">MikeSandfordArundo</span>
<span class="na">password</span><span class="o">=</span><span class="s">WHOAWHOAWHOA</span>

<span class="k">[testpypi]</span>
<span class="na">repository</span><span class="o">=</span><span class="s">https://test.pypi.org/legacy/</span>
<span class="na">username</span><span class="o">=</span><span class="s">MikeSandfordArundo</span>
<span class="na">password</span><span class="o">=</span><span class="s">WHOAWHOAWHOA</span>
</pre></div></div></section>
<section class="slide "><div class="content"><h3>Publish in test</h3>
<h4>v2.2</h4>
<div class="codehilite"><pre><span class="p">(</span><span class="n">virt</span><span class="p">)</span> <span class="n">sandford</span><span class="p">@</span><span class="n">mjolnir</span> <span class="o">~/</span><span class="n">talks</span><span class="o">/</span><span class="n">echoer</span> $ <span class="n">python</span> <span class="n">setup</span><span class="p">.</span><span class="n">py</span> <span class="n">sdist</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="p">.</span>5<span class="o">/</span><span class="n">distutils</span><span class="o">/</span><span class="n">dist</span><span class="p">.</span><span class="n">py</span><span class="p">:</span>261<span class="p">:</span> <span class="n">UserWarning</span><span class="p">:</span> <span class="n">Unknown</span> <span class="n">distribution</span> <span class="n">option</span><span class="p">:</span> <span class="s">&#39;entry_points&#39;</span>
  <span class="n">warnings</span><span class="p">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="p">.</span>5<span class="o">/</span><span class="n">distutils</span><span class="o">/</span><span class="n">dist</span><span class="p">.</span><span class="n">py</span><span class="p">:</span>261<span class="p">:</span> <span class="n">UserWarning</span><span class="p">:</span> <span class="n">Unknown</span> <span class="n">distribution</span> <span class="n">option</span><span class="p">:</span> <span class="s">&#39;install_requires&#39;</span>
  <span class="n">warnings</span><span class="p">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">running</span> <span class="n">sdist</span>
<span class="n">running</span> <span class="n">check</span>
<span class="n">warning</span><span class="p">:</span> <span class="n">sdist</span><span class="p">:</span> <span class="n">manifest</span> <span class="n">template</span> <span class="s">&#39;MANIFEST.in&#39;</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span> <span class="p">(</span><span class="n">using</span> <span class="n">default</span> <span class="n">file</span> <span class="n">list</span><span class="p">)</span>

<span class="n">warning</span><span class="p">:</span> <span class="n">sdist</span><span class="p">:</span> <span class="n">standard</span> <span class="n">file</span> <span class="n">not</span> <span class="n">found</span><span class="p">:</span> <span class="n">should</span> <span class="n">have</span> <span class="n">one</span> <span class="n">of</span> <span class="n">README</span><span class="p">,</span> <span class="n">README</span><span class="p">.</span><span class="n">txt</span>

<span class="n">writing</span> <span class="n">manifest</span> <span class="n">file</span> <span class="s">&#39;MANIFEST&#39;</span>
<span class="n">creating</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2
<span class="n">creating</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2<span class="o">/</span><span class="n">echoer</span>
<span class="n">making</span> <span class="n">hard</span> <span class="n">links</span> <span class="n">in</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2<span class="c">...</span>
<span class="n">hard</span> <span class="n">linking</span> <span class="n">setup</span><span class="p">.</span><span class="n">cfg</span> <span class="o">-&gt;</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2
<span class="n">hard</span> <span class="n">linking</span> <span class="n">setup</span><span class="p">.</span><span class="n">py</span> <span class="o">-&gt;</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2
<span class="n">hard</span> <span class="n">linking</span> <span class="n">echoer</span><span class="o">/</span><span class="n">__init__</span><span class="p">.</span><span class="n">py</span> <span class="o">-&gt;</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2<span class="o">/</span><span class="n">echoer</span>
<span class="n">hard</span> <span class="n">linking</span> <span class="n">echoer</span><span class="o">/</span><span class="n">cli</span><span class="p">.</span><span class="n">py</span> <span class="o">-&gt;</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2<span class="o">/</span><span class="n">echoer</span>
<span class="n">creating</span> <span class="n">dist</span>
<span class="n">Creating</span> <span class="n">tar</span> <span class="n">archive</span>
<span class="n">removing</span> <span class="s">&#39;Echoer-2.2&#39;</span> <span class="p">(</span><span class="n">and</span> <span class="n">everything</span> <span class="n">under</span> <span class="n">it</span><span class="p">)</span>
<span class="p">(</span><span class="n">virt</span><span class="p">)</span> <span class="n">sandford</span><span class="p">@</span><span class="n">mjolnir</span> <span class="o">~/</span><span class="n">talks</span><span class="o">/</span><span class="n">echoer</span> $ <span class="n">twine</span> <span class="n">upload</span> <span class="o">--</span><span class="n">repository</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">test</span><span class="p">.</span><span class="n">pypi</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">legacy</span><span class="o">/</span> <span class="n">dist</span><span class="o">/*</span>
<span class="n">Uploading</span> <span class="n">distributions</span> <span class="n">to</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">test</span><span class="p">.</span><span class="n">pypi</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">legacy</span><span class="o">/</span>
<span class="n">Enter</span> <span class="n">your</span> <span class="n">username</span><span class="p">:</span> <span class="n">MikeSandfordArundo</span>
<span class="n">Enter</span> <span class="n">your</span> <span class="n">password</span><span class="p">:</span>
<span class="n">Uploading</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2<span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
100<span class="c">%|███████████████████████████████████████████████████████████████| 3.42k/3.42k [00:01&lt;00:00, 3.31kB/s]</span>
<span class="p">(</span><span class="n">virt</span><span class="p">)</span> <span class="n">sandford</span><span class="p">@</span><span class="n">mjolnir</span> <span class="o">~/</span><span class="n">talks</span><span class="o">/</span><span class="n">echoer</span> $
</pre></div></div></section>
<section class="slide "><div class="content"><h3>Publish in prod</h3>
<div class="codehilite"><pre><span class="p">(</span><span class="n">virt</span><span class="p">)</span> <span class="n">sandford</span><span class="p">@</span><span class="n">mjolnir</span> <span class="o">~/</span><span class="n">talks</span><span class="o">/</span><span class="n">echoer</span> $ <span class="n">twine</span> <span class="n">upload</span> <span class="n">dist</span><span class="o">/*</span><span class="n">Uploading</span> <span class="n">distributions</span> <span class="n">to</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">upload</span><span class="p">.</span><span class="n">pypi</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">legacy</span><span class="o">/</span>
<span class="n">Uploading</span> <span class="n">Echoer</span><span class="o">-</span>2<span class="p">.</span>2<span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
100<span class="c">%|███████████████████████████████████████████████████████████████| 3.42k/3.42k [00:00&lt;00:00, 14.6kB/s]</span>
<span class="p">(</span><span class="n">virt</span><span class="p">)</span> <span class="n">sandford</span><span class="p">@</span><span class="n">mjolnir</span> <span class="o">~/</span><span class="n">talks</span><span class="o">/</span><span class="n">echoer</span> $
</pre></div></div></section>
<section class="slide "><div class="content"><h2>Private PyPI repos</h2>
<ul>
<li>Packagecloud.io</li>
<li>Gemfury.com</li>
<li>Cloudrepo.io</li>
<li>Self-hosted</li>
<li>pyshop</li>
<li>pypiserver</li>
<li>extrapypi</li>
<li>pypicloud</li>
</ul></div></section>
<section class="slide "><div class="content"><h2>Skipped Items</h2>
<ul>
<li>Classifiers</li>
<li>Keywords</li>
<li><code>find_packages</code></li>
<li>Data files</li>
<li>Project URLs</li>
<li>Extra dependencies (dev, test, docs)</li>
</ul></div></section>
<section class="slide "><div class="content"><h1>Questions?</h1></div></section>
<section class="slide "><div class="content"><h1>Shameless Promotion</h1>
<h2>Arundo Analytics</h2>
<h3>We're Hiring!</h3>
<p>mike.sandford@arundo.com</p>
<p>http://www.arundo.com/</p></div></section>


<!-- deck.status snippet -->
<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<!-- Grab CDN jQuery, with a protocol relative URL; fall back to local if offline -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery-1.7.2.min.js"><\/script>')</script>

<!-- Deck Core and extensions -->
<script src="js/deck.core.js"></script>
<script src="js/deck.status.js"></script>
<script src="js/deck.scale.js"></script>

<!-- Initialize the deck -->
<script>
$(function() {
	$.deck('.slide');
});
</script>

</body>
</html>
